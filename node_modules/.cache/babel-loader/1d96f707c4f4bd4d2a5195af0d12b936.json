{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ngova\\\\Desktop\\\\updateMovies\\\\Booking\\\\src\\\\components\\\\SearchBarForDesktop\\\\SearchBarDesktop.jsx\",\n    _s = $RefreshSig$();\n\nimport { useStyles } from \"./styles\";\nimport React, { useEffect, useState } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Box, Button, Grid, Typography, withStyles } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport cinemaIcon from \"./../../assets/cinema.svg\";\nimport { FETCH_THONG_TIN_LICH_CHIEU_PHIM_REQUESTS_SAGA } from \"../../container/HomeTemplate/Home/modules/redux/constants\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { useHistory } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchBarDesktop = () => {\n  _s();\n\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const movieList = useSelector(state => state.MovieReducer.movieList);\n  const searchMovieFind = useSelector(state => state.MovieReducer.searchMovieFind);\n  let [infoSearch, setInfoSearch] = useState({\n    maPhim: \"\",\n    phim: \"\",\n    cumRap: \"\",\n    tenRap: \"\",\n    ngayChieu: \"\",\n    suatChieu: \"\",\n    buttonBuyTicket: false\n  });\n  let [maLichChieu, setMaLichChieu] = useState({\n    maLichChieu: null\n  });\n\n  const handleDispatchMovie = maPhim => {\n    if (maPhim !== null || maPhim !== \"\") {\n      dispatch({\n        type: FETCH_THONG_TIN_LICH_CHIEU_PHIM_REQUESTS_SAGA,\n        payload: maPhim\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (infoSearch.phim !== \"\") {\n      let findMaPhim = movieList.filter(movie => {\n        return movie.tenPhim === infoSearch.phim;\n      });\n      infoSearch.maPhim = findMaPhim[0].maPhim;\n      handleDispatchMovie(infoSearch.maPhim);\n    }\n  }, [infoSearch]);\n\n  const handleDirect = () => {\n    if (!localStorage.getItem(\"USER\")) {\n      Swal.fire({\n        customClass: {\n          container: classes.sweetAlert\n        },\n        icon: \"warning\",\n        title: `Vui lòng đăng nhập!`,\n        showCancelButton: true,\n        confirmButtonText: `Đăng nhập`\n      }).then(result => {\n        if (result.isConfirmed) {\n          history.push(`/signin`);\n        }\n\n        return;\n      });\n    } else {\n      history.push(`/checkout/${maLichChieu.maLichChieu}`);\n    }\n  };\n\n  const renderTenPhim = () => {\n    if (movieList) {\n      let arr = movieList.map(item => {\n        return item.tenPhim;\n      });\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        options: arr,\n        value: infoSearch.phim,\n        getOptionLabel: option => option //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\n        ,\n        onChange: (event, newValue) => {\n          if (newValue == null) {\n            setInfoSearch({\n              phim: \"\",\n              cumRap: \"\",\n              tenRap: \"\",\n              ngayChieu: \"\",\n              suatChieu: \"\",\n              buttonBuyTicket: false\n            });\n            return;\n          }\n\n          setInfoSearch({\n            phim: newValue,\n            maLichChieu: null,\n            cumRap: \"\",\n            tenRap: \"\",\n            ngayChieu: \"\",\n            suatChieu: \"\",\n            buttonBuyTicket: false\n          });\n        },\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          label: \"Phim\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const renderCumRap = () => {\n    if (searchMovieFind && infoSearch.phim !== \"\") {\n      let arr = searchMovieFind.heThongRapChieu.map(cumRap => {\n        return cumRap.tenHeThongRap;\n      });\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        options: arr,\n        value: infoSearch.cumRap,\n        getOptionLabel: option => option //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\n        ,\n        onChange: (event, newValue) => {\n          setInfoSearch({ ...infoSearch,\n            cumRap: newValue,\n            tenRap: \"\",\n            ngayChieu: \"\",\n            suatChieu: \"\",\n            buttonBuyTicket: false\n          });\n        },\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"cumRap\",\n          label: \"C\\u1EE5m R\\u1EA1p\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        value: infoSearch.cumRap,\n        getOptionDisabled: option => true,\n        options: [\"Vui lòng chọn phim\"],\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"cumRap\",\n          label: \"C\\u1EE5m R\\u1EA1p\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const renderRap = () => {\n    if (searchMovieFind && infoSearch.cumRap) {\n      let arr = searchMovieFind.heThongRapChieu.filter(cumRap => {\n        return cumRap.tenHeThongRap === infoSearch.cumRap;\n      });\n      let findExactRapChieu = arr.map(rap => {\n        return rap.cumRapChieu;\n      });\n      let showExactRapChieu = findExactRapChieu[0].map(rap => {\n        return rap.tenCumRap;\n      });\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        options: showExactRapChieu,\n        value: infoSearch.tenRap,\n        getOptionLabel: option => option //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\n        ,\n        onChange: (event, newValue) => {\n          setInfoSearch({ ...infoSearch,\n            tenRap: newValue,\n            ngayChieu: \"\",\n            suatChieu: \"\",\n            buttonBuyTicket: false\n          });\n        },\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"tenRap\",\n          label: \"T\\xEAn R\\u1EA1p\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        value: infoSearch.cumRap,\n        options: [\"Vui lòng chọn phim và cụm rạp\"],\n        getOptionDisabled: option => true,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"tenRap\",\n          label: \"T\\xEAn R\\u1EA1p\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const renderNgayChieu = () => {\n    if (infoSearch.phim && infoSearch.cumRap && infoSearch.tenRap) {\n      let arr = searchMovieFind.heThongRapChieu.filter(cumRap => {\n        return cumRap.tenHeThongRap === infoSearch.cumRap;\n      });\n      let rapChieu = arr[0].cumRapChieu.filter(cumRap => {\n        return cumRap.tenCumRap === infoSearch.tenRap;\n      });\n      const listDay = new Set(rapChieu[0].lichChieuPhim.map(lichChieu => {\n        return new Date(lichChieu.ngayChieuGioChieu).toLocaleDateString();\n      }));\n      const arrDay = [...listDay];\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        options: arrDay,\n        value: infoSearch.ngayChieu,\n        getOptionLabel: option => option //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\n        ,\n        onChange: (event, newValue) => {\n          setInfoSearch({ ...infoSearch,\n            ngayChieu: newValue,\n            suatChieu: \"\",\n            buttonBuyTicket: false\n          });\n        },\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"ngayChieu\",\n          label: \"Ng\\xE0y Chi\\u1EBFu\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        value: infoSearch.ngayChieu,\n        options: [\"Vui lòng chọn phim, cụm rạp và rạp\"],\n        getOptionDisabled: option => true,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"ngayChieu\",\n          label: \"Ng\\xE0y Chi\\u1EBFu\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const renderGioChieu = () => {\n    if (infoSearch.phim && infoSearch.cumRap && infoSearch.tenRap && infoSearch.ngayChieu) {\n      let arr = searchMovieFind.heThongRapChieu.filter(cumRap => {\n        return cumRap.tenHeThongRap === infoSearch.cumRap;\n      });\n      let rapChieu = arr[0].cumRapChieu.filter(cumRap => {\n        return cumRap.tenCumRap === infoSearch.tenRap;\n      });\n      let gioChieu = rapChieu[0].lichChieuPhim.filter(lichChieu => {\n        return new Date(lichChieu.ngayChieuGioChieu).toLocaleDateString() === infoSearch.ngayChieu;\n      });\n      let showGioChieu = gioChieu.map((gio, index) => {\n        return gio.ngayChieuGioChieu.slice(-8, -3);\n      });\n\n      let getMaLichChieuFunc = gioCut => {\n        if (gioCut !== null || gioCut !== \"\") {\n          let getMaLichChieu = gioChieu.filter((gio, index) => {\n            return gio.ngayChieuGioChieu.slice(-8, -3) === gioCut;\n          });\n          setMaLichChieu({\n            maLichChieu: getMaLichChieu[0].maLichChieu\n          });\n        }\n      };\n\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        options: showGioChieu,\n        value: infoSearch.suatChieu,\n        getOptionLabel: option => option,\n        onChange: (event, newValue) => {\n          if (newValue == null) {\n            setInfoSearch({ ...infoSearch,\n              maLichChieu: null,\n              suatChieu: newValue,\n              buttonBuyTicket: false\n            });\n            return;\n          }\n\n          setInfoSearch({ ...infoSearch,\n            suatChieu: newValue,\n            buttonBuyTicket: true\n          });\n          getMaLichChieuFunc(newValue);\n        },\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"suatChieu\",\n          label: \"Su\\u1EA5t Chi\\u1EBFu\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Autocomplete, {\n        classes: classes,\n        value: infoSearch.suatChieu,\n        options: [\"Vui lòng chọn phim, cụm rạp, rạp, ngày chiếu\"],\n        getOptionDisabled: option => true,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n          id: \"suatChieu\",\n          label: \"Su\\u1EA5t Chi\\u1EBFu\",\n          InputProps: { ...params.InputProps,\n            disableUnderline: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.bgColor,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.container,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 2,\n          spacing: 0,\n          className: classes.item,\n          children: renderTenPhim()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 2,\n          spacing: 0,\n          className: classes.item,\n          children: renderCumRap()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 2,\n          spacing: 0,\n          className: classes.item,\n          children: renderRap()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 2,\n          spacing: 0,\n          className: classes.item,\n          children: renderNgayChieu()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 2,\n          spacing: 0,\n          className: classes.item,\n          children: renderGioChieu()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 2,\n          spacing: 0,\n          className: classes.buttonWrapper,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            className: classes.button,\n            disabled: !infoSearch.buttonBuyTicket,\n            onClick: () => {\n              handleDirect();\n            },\n            children: \"Mua v\\xE9 ngay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 382,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchBarDesktop, \"kPmSl/8Tgi4J0wkwiM6WBdLMCYU=\", false, function () {\n  return [useHistory, useStyles, useDispatch, useSelector, useSelector];\n});\n\n_c = SearchBarDesktop;\nexport default SearchBarDesktop;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBarDesktop\");","map":{"version":3,"sources":["C:/Users/ngova/Desktop/updateMovies/Booking/src/components/SearchBarForDesktop/SearchBarDesktop.jsx"],"names":["useStyles","React","useEffect","useState","Modal","Backdrop","Fade","useSelector","useDispatch","TextField","Autocomplete","Box","Button","Grid","Typography","withStyles","SearchIcon","FETCH_THONG_TIN_LICH_CHIEU_PHIM_REQUESTS_SAGA","CloseIcon","useHistory","Swal","SearchBarDesktop","history","classes","dispatch","movieList","state","MovieReducer","searchMovieFind","infoSearch","setInfoSearch","maPhim","phim","cumRap","tenRap","ngayChieu","suatChieu","buttonBuyTicket","maLichChieu","setMaLichChieu","handleDispatchMovie","type","payload","findMaPhim","filter","movie","tenPhim","handleDirect","localStorage","getItem","fire","customClass","container","sweetAlert","icon","title","showCancelButton","confirmButtonText","then","result","isConfirmed","push","renderTenPhim","arr","map","item","option","event","newValue","params","InputProps","disableUnderline","renderCumRap","heThongRapChieu","tenHeThongRap","renderRap","findExactRapChieu","rap","cumRapChieu","showExactRapChieu","tenCumRap","renderNgayChieu","rapChieu","listDay","Set","lichChieuPhim","lichChieu","Date","ngayChieuGioChieu","toLocaleDateString","arrDay","renderGioChieu","gioChieu","showGioChieu","gio","index","slice","getMaLichChieuFunc","gioCut","getMaLichChieu","bgColor","buttonWrapper","button"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,UAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,IAAtB,EAA4BC,UAA5B,EAAwCC,UAAxC,QAA0D,mBAA1D;AACA,OAAOC,UAAP,MAAuB,2BAAvB;;AAEA,SAASC,6CAAT,QAA8D,2DAA9D;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,aAAjB;;;AAEA,MAAMC,gBAAgB,GAAG,MAAM;AAAA;;AAC7B,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAMI,OAAO,GAAGvB,SAAS,EAAzB;AACA,QAAMwB,QAAQ,GAAGhB,WAAW,EAA5B;AACA,QAAMiB,SAAS,GAAGlB,WAAW,CAAEmB,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBF,SAA/B,CAA7B;AACA,QAAMG,eAAe,GAAGrB,WAAW,CAChCmB,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBC,eADG,CAAnC;AAIA,MAAI,CAACC,UAAD,EAAaC,aAAb,IAA8B3B,QAAQ,CAAC;AACzC4B,IAAAA,MAAM,EAAE,EADiC;AAEzCC,IAAAA,IAAI,EAAE,EAFmC;AAGzCC,IAAAA,MAAM,EAAE,EAHiC;AAIzCC,IAAAA,MAAM,EAAE,EAJiC;AAKzCC,IAAAA,SAAS,EAAE,EAL8B;AAMzCC,IAAAA,SAAS,EAAE,EAN8B;AAOzCC,IAAAA,eAAe,EAAE;AAPwB,GAAD,CAA1C;AASA,MAAI,CAACC,WAAD,EAAcC,cAAd,IAAgCpC,QAAQ,CAAC;AAC3CmC,IAAAA,WAAW,EAAE;AAD8B,GAAD,CAA5C;;AAIA,QAAME,mBAAmB,GAAIT,MAAD,IAAY;AACtC,QAAIA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,EAAlC,EAAsC;AACpCP,MAAAA,QAAQ,CAAC;AACPiB,QAAAA,IAAI,EAAExB,6CADC;AAEPyB,QAAAA,OAAO,EAAEX;AAFF,OAAD,CAAR;AAID;AACF,GAPD;;AASA7B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI2B,UAAU,CAACG,IAAX,KAAoB,EAAxB,EAA4B;AAC1B,UAAIW,UAAU,GAAGlB,SAAS,CAACmB,MAAV,CAAkBC,KAAD,IAAW;AAC3C,eAAOA,KAAK,CAACC,OAAN,KAAkBjB,UAAU,CAACG,IAApC;AACD,OAFgB,CAAjB;AAGAH,MAAAA,UAAU,CAACE,MAAX,GAAoBY,UAAU,CAAC,CAAD,CAAV,CAAcZ,MAAlC;AACAS,MAAAA,mBAAmB,CAACX,UAAU,CAACE,MAAZ,CAAnB;AACD;AACF,GARQ,EAQN,CAACF,UAAD,CARM,CAAT;;AAUA,QAAMkB,YAAY,GAAG,MAAM;AACzB,QAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAL,EAAmC;AACjC7B,MAAAA,IAAI,CAAC8B,IAAL,CAAU;AACRC,QAAAA,WAAW,EAAE;AACXC,UAAAA,SAAS,EAAE7B,OAAO,CAAC8B;AADR,SADL;AAIRC,QAAAA,IAAI,EAAE,SAJE;AAKRC,QAAAA,KAAK,EAAG,qBALA;AAMRC,QAAAA,gBAAgB,EAAE,IANV;AAORC,QAAAA,iBAAiB,EAAG;AAPZ,OAAV,EAQGC,IARH,CAQSC,MAAD,IAAY;AAClB,YAAIA,MAAM,CAACC,WAAX,EAAwB;AACtBtC,UAAAA,OAAO,CAACuC,IAAR,CAAc,SAAd;AACD;;AACD;AACD,OAbD;AAcD,KAfD,MAeO;AACLvC,MAAAA,OAAO,CAACuC,IAAR,CAAc,aAAYvB,WAAW,CAACA,WAAY,EAAlD;AACD;AACF,GAnBD;;AAqBA,QAAMwB,aAAa,GAAG,MAAM;AAC1B,QAAIrC,SAAJ,EAAe;AACb,UAAIsC,GAAG,GAAGtC,SAAS,CAACuC,GAAV,CAAeC,IAAD,IAAU;AAChC,eAAOA,IAAI,CAACnB,OAAZ;AACD,OAFS,CAAV;AAGA,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEvB,OADX;AAEE,QAAA,OAAO,EAAEwC,GAFX;AAGE,QAAA,KAAK,EAAElC,UAAU,CAACG,IAHpB;AAIE,QAAA,cAAc,EAAGkC,MAAD,IAAYA,MAJ9B,CAKE;AALF;AAME,QAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC7B,cAAIA,QAAQ,IAAI,IAAhB,EAAsB;AACpBtC,YAAAA,aAAa,CAAC;AACZE,cAAAA,IAAI,EAAE,EADM;AAEZC,cAAAA,MAAM,EAAE,EAFI;AAGZC,cAAAA,MAAM,EAAE,EAHI;AAIZC,cAAAA,SAAS,EAAE,EAJC;AAKZC,cAAAA,SAAS,EAAE,EALC;AAMZC,cAAAA,eAAe,EAAE;AANL,aAAD,CAAb;AAQA;AACD;;AACDP,UAAAA,aAAa,CAAC;AACZE,YAAAA,IAAI,EAAEoC,QADM;AAEZ9B,YAAAA,WAAW,EAAE,IAFD;AAGZL,YAAAA,MAAM,EAAE,EAHI;AAIZC,YAAAA,MAAM,EAAE,EAJI;AAKZC,YAAAA,SAAS,EAAE,EALC;AAMZC,YAAAA,SAAS,EAAE,EANC;AAOZC,YAAAA,eAAe,EAAE;AAPL,WAAD,CAAb;AASD,SA3BH;AA4BE,QAAA,WAAW,EAAGgC,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,KAAK,EAAC,MAFR;AAGE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAHd;AAAA;AAAA;AAAA;AAAA;AA7BJ;AAAA;AAAA;AAAA;AAAA,cADF;AAsCD;AACF,GA5CD;;AA8CA,QAAMC,YAAY,GAAG,MAAM;AACzB,QAAI5C,eAAe,IAAIC,UAAU,CAACG,IAAX,KAAoB,EAA3C,EAA+C;AAC7C,UAAI+B,GAAG,GAAGnC,eAAe,CAAC6C,eAAhB,CAAgCT,GAAhC,CAAqC/B,MAAD,IAAY;AACxD,eAAOA,MAAM,CAACyC,aAAd;AACD,OAFS,CAAV;AAGA,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEnD,OADX;AAEE,QAAA,OAAO,EAAEwC,GAFX;AAGE,QAAA,KAAK,EAAElC,UAAU,CAACI,MAHpB;AAIE,QAAA,cAAc,EAAGiC,MAAD,IAAYA,MAJ9B,CAKE;AALF;AAME,QAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC7BtC,UAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZI,YAAAA,MAAM,EAAEmC,QAFI;AAGZlC,YAAAA,MAAM,EAAE,EAHI;AAIZC,YAAAA,SAAS,EAAE,EAJC;AAKZC,YAAAA,SAAS,EAAE,EALC;AAMZC,YAAAA,eAAe,EAAE;AANL,WAAD,CAAb;AAQD,SAfH;AAgBE,QAAA,WAAW,EAAGgC,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,QAFL;AAGE,UAAA,KAAK,EAAC,mBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AAjBJ;AAAA;AAAA;AAAA;AAAA,cADF;AA2BD,KA/BD,MA+BO;AACL,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEhD,OADX;AAEE,QAAA,KAAK,EAAEM,UAAU,CAACI,MAFpB;AAGE,QAAA,iBAAiB,EAAGiC,MAAD,IAAY,IAHjC;AAIE,QAAA,OAAO,EAAE,CAAC,oBAAD,CAJX;AAKE,QAAA,WAAW,EAAGG,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,QAFL;AAGE,UAAA,KAAK,EAAC,mBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cADF;AAgBD;AACF,GAlDD;;AAoDA,QAAMI,SAAS,GAAG,MAAM;AACtB,QAAI/C,eAAe,IAAIC,UAAU,CAACI,MAAlC,EAA0C;AACxC,UAAI8B,GAAG,GAAGnC,eAAe,CAAC6C,eAAhB,CAAgC7B,MAAhC,CAAwCX,MAAD,IAAY;AAC3D,eAAOA,MAAM,CAACyC,aAAP,KAAyB7C,UAAU,CAACI,MAA3C;AACD,OAFS,CAAV;AAGA,UAAI2C,iBAAiB,GAAGb,GAAG,CAACC,GAAJ,CAASa,GAAD,IAAS;AACvC,eAAOA,GAAG,CAACC,WAAX;AACD,OAFuB,CAAxB;AAIA,UAAIC,iBAAiB,GAAGH,iBAAiB,CAAC,CAAD,CAAjB,CAAqBZ,GAArB,CAA0Ba,GAAD,IAAS;AACxD,eAAOA,GAAG,CAACG,SAAX;AACD,OAFuB,CAAxB;AAGA,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEzD,OADX;AAEE,QAAA,OAAO,EAAEwD,iBAFX;AAGE,QAAA,KAAK,EAAElD,UAAU,CAACK,MAHpB;AAIE,QAAA,cAAc,EAAGgC,MAAD,IAAYA,MAJ9B,CAKE;AALF;AAME,QAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC7BtC,UAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZK,YAAAA,MAAM,EAAEkC,QAFI;AAGZjC,YAAAA,SAAS,EAAE,EAHC;AAIZC,YAAAA,SAAS,EAAE,EAJC;AAKZC,YAAAA,eAAe,EAAE;AALL,WAAD,CAAb;AAOD,SAdH;AAeE,QAAA,WAAW,EAAGgC,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,QAFL;AAGE,UAAA,KAAK,EAAC,iBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AAhBJ;AAAA;AAAA;AAAA;AAAA,cADF;AA0BD,KArCD,MAqCO;AACL,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEhD,OADX;AAEE,QAAA,KAAK,EAAEM,UAAU,CAACI,MAFpB;AAGE,QAAA,OAAO,EAAE,CAAC,+BAAD,CAHX;AAIE,QAAA,iBAAiB,EAAGiC,MAAD,IAAY,IAJjC;AAKE,QAAA,WAAW,EAAGG,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,QAFL;AAGE,UAAA,KAAK,EAAC,iBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cADF;AAgBD;AACF,GAxDD;;AA0DA,QAAMU,eAAe,GAAG,MAAM;AAC5B,QAAIpD,UAAU,CAACG,IAAX,IAAmBH,UAAU,CAACI,MAA9B,IAAwCJ,UAAU,CAACK,MAAvD,EAA+D;AAC7D,UAAI6B,GAAG,GAAGnC,eAAe,CAAC6C,eAAhB,CAAgC7B,MAAhC,CAAwCX,MAAD,IAAY;AAC3D,eAAOA,MAAM,CAACyC,aAAP,KAAyB7C,UAAU,CAACI,MAA3C;AACD,OAFS,CAAV;AAGA,UAAIiD,QAAQ,GAAGnB,GAAG,CAAC,CAAD,CAAH,CAAOe,WAAP,CAAmBlC,MAAnB,CAA2BX,MAAD,IAAY;AACnD,eAAOA,MAAM,CAAC+C,SAAP,KAAqBnD,UAAU,CAACK,MAAvC;AACD,OAFc,CAAf;AAGA,YAAMiD,OAAO,GAAG,IAAIC,GAAJ,CACdF,QAAQ,CAAC,CAAD,CAAR,CAAYG,aAAZ,CAA0BrB,GAA1B,CAA+BsB,SAAD,IAAe;AAC3C,eAAO,IAAIC,IAAJ,CAASD,SAAS,CAACE,iBAAnB,EAAsCC,kBAAtC,EAAP;AACD,OAFD,CADc,CAAhB;AAKA,YAAMC,MAAM,GAAG,CAAC,GAAGP,OAAJ,CAAf;AACA,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAE5D,OADX;AAEE,QAAA,OAAO,EAAEmE,MAFX;AAGE,QAAA,KAAK,EAAE7D,UAAU,CAACM,SAHpB;AAIE,QAAA,cAAc,EAAG+B,MAAD,IAAYA,MAJ9B,CAKE;AALF;AAME,QAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC7BtC,UAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZM,YAAAA,SAAS,EAAEiC,QAFC;AAGZhC,YAAAA,SAAS,EAAE,EAHC;AAIZC,YAAAA,eAAe,EAAE;AAJL,WAAD,CAAb;AAMD,SAbH;AAcE,QAAA,WAAW,EAAGgC,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,WAFL;AAGE,UAAA,KAAK,EAAC,oBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AAfJ;AAAA;AAAA;AAAA;AAAA,cADF;AAyBD,KAtCD,MAsCO;AACL,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEhD,OADX;AAEE,QAAA,KAAK,EAAEM,UAAU,CAACM,SAFpB;AAGE,QAAA,OAAO,EAAE,CAAC,oCAAD,CAHX;AAIE,QAAA,iBAAiB,EAAG+B,MAAD,IAAY,IAJjC;AAKE,QAAA,WAAW,EAAGG,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,WAFL;AAGE,UAAA,KAAK,EAAC,oBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cADF;AAgBD;AACF,GAzDD;;AA2DA,QAAMoB,cAAc,GAAG,MAAM;AAC3B,QACE9D,UAAU,CAACG,IAAX,IACAH,UAAU,CAACI,MADX,IAEAJ,UAAU,CAACK,MAFX,IAGAL,UAAU,CAACM,SAJb,EAKE;AACA,UAAI4B,GAAG,GAAGnC,eAAe,CAAC6C,eAAhB,CAAgC7B,MAAhC,CAAwCX,MAAD,IAAY;AAC3D,eAAOA,MAAM,CAACyC,aAAP,KAAyB7C,UAAU,CAACI,MAA3C;AACD,OAFS,CAAV;AAGA,UAAIiD,QAAQ,GAAGnB,GAAG,CAAC,CAAD,CAAH,CAAOe,WAAP,CAAmBlC,MAAnB,CAA2BX,MAAD,IAAY;AACnD,eAAOA,MAAM,CAAC+C,SAAP,KAAqBnD,UAAU,CAACK,MAAvC;AACD,OAFc,CAAf;AAGA,UAAI0D,QAAQ,GAAGV,QAAQ,CAAC,CAAD,CAAR,CAAYG,aAAZ,CAA0BzC,MAA1B,CAAkC0C,SAAD,IAAe;AAC7D,eACE,IAAIC,IAAJ,CAASD,SAAS,CAACE,iBAAnB,EAAsCC,kBAAtC,OACA5D,UAAU,CAACM,SAFb;AAID,OALc,CAAf;AAMA,UAAI0D,YAAY,GAAGD,QAAQ,CAAC5B,GAAT,CAAa,CAAC8B,GAAD,EAAMC,KAAN,KAAgB;AAC9C,eAAOD,GAAG,CAACN,iBAAJ,CAAsBQ,KAAtB,CAA4B,CAAC,CAA7B,EAAgC,CAAC,CAAjC,CAAP;AACD,OAFkB,CAAnB;;AAIA,UAAIC,kBAAkB,GAAIC,MAAD,IAAY;AACnC,YAAIA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,EAAlC,EAAsC;AACpC,cAAIC,cAAc,GAAGP,QAAQ,CAAChD,MAAT,CAAgB,CAACkD,GAAD,EAAMC,KAAN,KAAgB;AACnD,mBAAOD,GAAG,CAACN,iBAAJ,CAAsBQ,KAAtB,CAA4B,CAAC,CAA7B,EAAgC,CAAC,CAAjC,MAAwCE,MAA/C;AACD,WAFoB,CAArB;AAGA3D,UAAAA,cAAc,CAAC;AACbD,YAAAA,WAAW,EAAE6D,cAAc,CAAC,CAAD,CAAd,CAAkB7D;AADlB,WAAD,CAAd;AAGD;AACF,OATD;;AAUA,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEf,OADX;AAEE,QAAA,OAAO,EAAEsE,YAFX;AAGE,QAAA,KAAK,EAAEhE,UAAU,CAACO,SAHpB;AAIE,QAAA,cAAc,EAAG8B,MAAD,IAAYA,MAJ9B;AAKE,QAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC7B,cAAIA,QAAQ,IAAI,IAAhB,EAAsB;AACpBtC,YAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZS,cAAAA,WAAW,EAAE,IAFD;AAGZF,cAAAA,SAAS,EAAEgC,QAHC;AAIZ/B,cAAAA,eAAe,EAAE;AAJL,aAAD,CAAb;AAMA;AACD;;AACDP,UAAAA,aAAa,CAAC,EACZ,GAAGD,UADS;AAEZO,YAAAA,SAAS,EAAEgC,QAFC;AAGZ/B,YAAAA,eAAe,EAAE;AAHL,WAAD,CAAb;AAMA4D,UAAAA,kBAAkB,CAAC7B,QAAD,CAAlB;AACD,SAtBH;AAuBE,QAAA,WAAW,EAAGC,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,WAFL;AAGE,UAAA,KAAK,EAAC,sBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AAxBJ;AAAA;AAAA;AAAA;AAAA,cADF;AAkCD,KAlED,MAkEO;AACL,0BACE,QAAC,YAAD;AACE,QAAA,OAAO,EAAEhD,OADX;AAEE,QAAA,KAAK,EAAEM,UAAU,CAACO,SAFpB;AAGE,QAAA,OAAO,EAAE,CAAC,8CAAD,CAHX;AAIE,QAAA,iBAAiB,EAAG8B,MAAD,IAAY,IAJjC;AAKE,QAAA,WAAW,EAAGG,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,UAAA,EAAE,EAAC,WAFL;AAGE,UAAA,KAAK,EAAC,sBAHR;AAIE,UAAA,UAAU,EAAE,EAAE,GAAGA,MAAM,CAACC,UAAZ;AAAwBC,YAAAA,gBAAgB,EAAE;AAA1C;AAJd;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cADF;AAgBD;AACF,GArFD;;AAuFA,sBACE;AAAK,IAAA,SAAS,EAAEhD,OAAO,CAAC6E,OAAxB;AAAA,2BACE;AAAK,MAAA,SAAS,EAAE7E,OAAO,CAAC6B,SAAxB;AAAA,6BAEE,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,IAAI,MAApB;AAAqB,UAAA,EAAE,EAAE,CAAzB;AAA4B,UAAA,OAAO,EAAE,CAArC;AAAwC,UAAA,SAAS,EAAE7B,OAAO,CAAC0C,IAA3D;AAAA,oBACGH,aAAa;AADhB;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,IAAI,MAApB;AAAqB,UAAA,EAAE,EAAE,CAAzB;AAA4B,UAAA,OAAO,EAAE,CAArC;AAAwC,UAAA,SAAS,EAAEvC,OAAO,CAAC0C,IAA3D;AAAA,oBACGO,YAAY;AADf;AAAA;AAAA;AAAA;AAAA,gBAJF,eAOE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,IAAI,MAApB;AAAqB,UAAA,EAAE,EAAE,CAAzB;AAA4B,UAAA,OAAO,EAAE,CAArC;AAAwC,UAAA,SAAS,EAAEjD,OAAO,CAAC0C,IAA3D;AAAA,oBACGU,SAAS;AADZ;AAAA;AAAA;AAAA;AAAA,gBAPF,eAUE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,IAAI,MAApB;AAAqB,UAAA,EAAE,EAAE,CAAzB;AAA4B,UAAA,OAAO,EAAE,CAArC;AAAwC,UAAA,SAAS,EAAEpD,OAAO,CAAC0C,IAA3D;AAAA,oBACGgB,eAAe;AADlB;AAAA;AAAA;AAAA;AAAA,gBAVF,eAaE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,IAAI,MAApB;AAAqB,UAAA,EAAE,EAAE,CAAzB;AAA4B,UAAA,OAAO,EAAE,CAArC;AAAwC,UAAA,SAAS,EAAE1D,OAAO,CAAC0C,IAA3D;AAAA,oBACG0B,cAAc;AADjB;AAAA;AAAA;AAAA;AAAA,gBAbF,eAgBE,QAAC,IAAD;AACE,UAAA,SAAS,MADX;AAEE,UAAA,IAAI,MAFN;AAGE,UAAA,EAAE,EAAE,CAHN;AAIE,UAAA,OAAO,EAAE,CAJX;AAKE,UAAA,SAAS,EAAEpE,OAAO,CAAC8E,aALrB;AAAA,iCAUE,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,WADV;AAEE,YAAA,SAAS,EAAE9E,OAAO,CAAC+E,MAFrB;AAGE,YAAA,QAAQ,EAAE,CAACzE,UAAU,CAACQ,eAHxB;AAIE,YAAA,OAAO,EAAE,MAAM;AACbU,cAAAA,YAAY;AACb,aANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVF;AAAA;AAAA;AAAA;AAAA,gBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA6CD,CAzZD;;GAAM1B,gB;UACYF,U,EACAnB,S,EACCQ,W,EACCD,W,EACMA,W;;;KALpBc,gB;AA2ZN,eAAeA,gBAAf","sourcesContent":["import { useStyles } from \"./styles\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { Box, Button, Grid, Typography, withStyles } from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport cinemaIcon from \"./../../assets/cinema.svg\";\r\nimport { FETCH_THONG_TIN_LICH_CHIEU_PHIM_REQUESTS_SAGA } from \"../../container/HomeTemplate/Home/modules/redux/constants\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst SearchBarDesktop = () => {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const movieList = useSelector((state) => state.MovieReducer.movieList);\r\n  const searchMovieFind = useSelector(\r\n    (state) => state.MovieReducer.searchMovieFind\r\n  );\r\n\r\n  let [infoSearch, setInfoSearch] = useState({\r\n    maPhim: \"\",\r\n    phim: \"\",\r\n    cumRap: \"\",\r\n    tenRap: \"\",\r\n    ngayChieu: \"\",\r\n    suatChieu: \"\",\r\n    buttonBuyTicket: false,\r\n  });\r\n  let [maLichChieu, setMaLichChieu] = useState({\r\n    maLichChieu: null,\r\n  });\r\n\r\n  const handleDispatchMovie = (maPhim) => {\r\n    if (maPhim !== null || maPhim !== \"\") {\r\n      dispatch({\r\n        type: FETCH_THONG_TIN_LICH_CHIEU_PHIM_REQUESTS_SAGA,\r\n        payload: maPhim,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (infoSearch.phim !== \"\") {\r\n      let findMaPhim = movieList.filter((movie) => {\r\n        return movie.tenPhim === infoSearch.phim;\r\n      });\r\n      infoSearch.maPhim = findMaPhim[0].maPhim;\r\n      handleDispatchMovie(infoSearch.maPhim);\r\n    }\r\n  }, [infoSearch]);\r\n\r\n  const handleDirect = () => {\r\n    if (!localStorage.getItem(\"USER\")) {\r\n      Swal.fire({\r\n        customClass: {\r\n          container: classes.sweetAlert,\r\n        },\r\n        icon: \"warning\",\r\n        title: `Vui lòng đăng nhập!`,\r\n        showCancelButton: true,\r\n        confirmButtonText: `Đăng nhập`,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          history.push(`/signin`);\r\n        }\r\n        return;\r\n      });\r\n    } else {\r\n      history.push(`/checkout/${maLichChieu.maLichChieu}`);\r\n    }\r\n  };\r\n\r\n  const renderTenPhim = () => {\r\n    if (movieList) {\r\n      let arr = movieList.map((item) => {\r\n        return item.tenPhim;\r\n      });\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          options={arr}\r\n          value={infoSearch.phim}\r\n          getOptionLabel={(option) => option}\r\n          //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\r\n          onChange={(event, newValue) => {\r\n            if (newValue == null) {\r\n              setInfoSearch({\r\n                phim: \"\",\r\n                cumRap: \"\",\r\n                tenRap: \"\",\r\n                ngayChieu: \"\",\r\n                suatChieu: \"\",\r\n                buttonBuyTicket: false,\r\n              });\r\n              return;\r\n            }\r\n            setInfoSearch({\r\n              phim: newValue,\r\n              maLichChieu: null,\r\n              cumRap: \"\",\r\n              tenRap: \"\",\r\n              ngayChieu: \"\",\r\n              suatChieu: \"\",\r\n              buttonBuyTicket: false,\r\n            });\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label=\"Phim\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderCumRap = () => {\r\n    if (searchMovieFind && infoSearch.phim !== \"\") {\r\n      let arr = searchMovieFind.heThongRapChieu.map((cumRap) => {\r\n        return cumRap.tenHeThongRap;\r\n      });\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          options={arr}\r\n          value={infoSearch.cumRap}\r\n          getOptionLabel={(option) => option}\r\n          //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\r\n          onChange={(event, newValue) => {\r\n            setInfoSearch({\r\n              ...infoSearch,\r\n              cumRap: newValue,\r\n              tenRap: \"\",\r\n              ngayChieu: \"\",\r\n              suatChieu: \"\",\r\n              buttonBuyTicket: false,\r\n            });\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"cumRap\"\r\n              label=\"Cụm Rạp\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          value={infoSearch.cumRap}\r\n          getOptionDisabled={(option) => true}\r\n          options={[\"Vui lòng chọn phim\"]}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"cumRap\"\r\n              label=\"Cụm Rạp\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderRap = () => {\r\n    if (searchMovieFind && infoSearch.cumRap) {\r\n      let arr = searchMovieFind.heThongRapChieu.filter((cumRap) => {\r\n        return cumRap.tenHeThongRap === infoSearch.cumRap;\r\n      });\r\n      let findExactRapChieu = arr.map((rap) => {\r\n        return rap.cumRapChieu;\r\n      });\r\n\r\n      let showExactRapChieu = findExactRapChieu[0].map((rap) => {\r\n        return rap.tenCumRap;\r\n      });\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          options={showExactRapChieu}\r\n          value={infoSearch.tenRap}\r\n          getOptionLabel={(option) => option}\r\n          //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\r\n          onChange={(event, newValue) => {\r\n            setInfoSearch({\r\n              ...infoSearch,\r\n              tenRap: newValue,\r\n              ngayChieu: \"\",\r\n              suatChieu: \"\",\r\n              buttonBuyTicket: false,\r\n            });\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"tenRap\"\r\n              label=\"Tên Rạp\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          value={infoSearch.cumRap}\r\n          options={[\"Vui lòng chọn phim và cụm rạp\"]}\r\n          getOptionDisabled={(option) => true}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"tenRap\"\r\n              label=\"Tên Rạp\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderNgayChieu = () => {\r\n    if (infoSearch.phim && infoSearch.cumRap && infoSearch.tenRap) {\r\n      let arr = searchMovieFind.heThongRapChieu.filter((cumRap) => {\r\n        return cumRap.tenHeThongRap === infoSearch.cumRap;\r\n      });\r\n      let rapChieu = arr[0].cumRapChieu.filter((cumRap) => {\r\n        return cumRap.tenCumRap === infoSearch.tenRap;\r\n      });\r\n      const listDay = new Set(\r\n        rapChieu[0].lichChieuPhim.map((lichChieu) => {\r\n          return new Date(lichChieu.ngayChieuGioChieu).toLocaleDateString();\r\n        })\r\n      );\r\n      const arrDay = [...listDay];\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          options={arrDay}\r\n          value={infoSearch.ngayChieu}\r\n          getOptionLabel={(option) => option}\r\n          //On change để khi người dùng thay đổi thông tin liền gọi hàm handleDispatchMovie để fetch dữ liệu về.\r\n          onChange={(event, newValue) => {\r\n            setInfoSearch({\r\n              ...infoSearch,\r\n              ngayChieu: newValue,\r\n              suatChieu: \"\",\r\n              buttonBuyTicket: false,\r\n            });\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"ngayChieu\"\r\n              label=\"Ngày Chiếu\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          value={infoSearch.ngayChieu}\r\n          options={[\"Vui lòng chọn phim, cụm rạp và rạp\"]}\r\n          getOptionDisabled={(option) => true}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"ngayChieu\"\r\n              label=\"Ngày Chiếu\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderGioChieu = () => {\r\n    if (\r\n      infoSearch.phim &&\r\n      infoSearch.cumRap &&\r\n      infoSearch.tenRap &&\r\n      infoSearch.ngayChieu\r\n    ) {\r\n      let arr = searchMovieFind.heThongRapChieu.filter((cumRap) => {\r\n        return cumRap.tenHeThongRap === infoSearch.cumRap;\r\n      });\r\n      let rapChieu = arr[0].cumRapChieu.filter((cumRap) => {\r\n        return cumRap.tenCumRap === infoSearch.tenRap;\r\n      });\r\n      let gioChieu = rapChieu[0].lichChieuPhim.filter((lichChieu) => {\r\n        return (\r\n          new Date(lichChieu.ngayChieuGioChieu).toLocaleDateString() ===\r\n          infoSearch.ngayChieu\r\n        );\r\n      });\r\n      let showGioChieu = gioChieu.map((gio, index) => {\r\n        return gio.ngayChieuGioChieu.slice(-8, -3);\r\n      });\r\n\r\n      let getMaLichChieuFunc = (gioCut) => {\r\n        if (gioCut !== null || gioCut !== \"\") {\r\n          let getMaLichChieu = gioChieu.filter((gio, index) => {\r\n            return gio.ngayChieuGioChieu.slice(-8, -3) === gioCut;\r\n          });\r\n          setMaLichChieu({\r\n            maLichChieu: getMaLichChieu[0].maLichChieu,\r\n          });\r\n        }\r\n      };\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          options={showGioChieu}\r\n          value={infoSearch.suatChieu}\r\n          getOptionLabel={(option) => option}\r\n          onChange={(event, newValue) => {\r\n            if (newValue == null) {\r\n              setInfoSearch({\r\n                ...infoSearch,\r\n                maLichChieu: null,\r\n                suatChieu: newValue,\r\n                buttonBuyTicket: false,\r\n              });\r\n              return;\r\n            }\r\n            setInfoSearch({\r\n              ...infoSearch,\r\n              suatChieu: newValue,\r\n              buttonBuyTicket: true,\r\n            });\r\n\r\n            getMaLichChieuFunc(newValue);\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"suatChieu\"\r\n              label=\"Suất Chiếu\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Autocomplete\r\n          classes={classes}\r\n          value={infoSearch.suatChieu}\r\n          options={[\"Vui lòng chọn phim, cụm rạp, rạp, ngày chiếu\"]}\r\n          getOptionDisabled={(option) => true}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              id=\"suatChieu\"\r\n              label=\"Suất Chiếu\"\r\n              InputProps={{ ...params.InputProps, disableUnderline: true }}\r\n            />\r\n          )}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.bgColor}>\r\n      <div className={classes.container}>\r\n        {/* <h3 style={{ textAlign: \"center\" }}>Mua vé nhanh</h3> */}\r\n        <Grid container spacing={1}>\r\n          <Grid container item xs={2} spacing={0} className={classes.item}>\r\n            {renderTenPhim()}\r\n          </Grid>\r\n          <Grid container item xs={2} spacing={0} className={classes.item}>\r\n            {renderCumRap()}\r\n          </Grid>\r\n          <Grid container item xs={2} spacing={0} className={classes.item}>\r\n            {renderRap()}\r\n          </Grid>\r\n          <Grid container item xs={2} spacing={0} className={classes.item}>\r\n            {renderNgayChieu()}\r\n          </Grid>\r\n          <Grid container item xs={2} spacing={0} className={classes.item}>\r\n            {renderGioChieu()}\r\n          </Grid>\r\n          <Grid\r\n            container\r\n            item\r\n            xs={2}\r\n            spacing={0}\r\n            className={classes.buttonWrapper}\r\n          >\r\n            {/* <Button variant=\"contained\" className={classes.button}>\r\n              Mua vé ngay\r\n            </Button> */}\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              disabled={!infoSearch.buttonBuyTicket}\r\n              onClick={() => {\r\n                handleDirect();\r\n              }}\r\n            >\r\n              Mua vé ngay\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBarDesktop;\r\n"]},"metadata":{},"sourceType":"module"}